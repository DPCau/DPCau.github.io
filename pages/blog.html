<!DOCTYPE html>
<html lang="zh-CN">
    <script src="../js/common.js"></script>
    <script>
        // åœ¨é¡µé¢åŠ è½½å‰å°±æ£€æŸ¥å¹¶åº”ç”¨ä¸»é¢˜ï¼Œé¿å…é—ªçƒ
        (function() {
            // æ£€æŸ¥localStorageä¸­çš„ä¸»é¢˜åå¥½
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // è®¾ç½®åˆå§‹ä¸»é¢˜ç±»
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark-theme');
            } else if (savedTheme === 'light') {
                document.documentElement.classList.add('light-theme');
            } else {
                // autoæ¨¡å¼æˆ–æ²¡æœ‰ä¿å­˜çš„ä¸»é¢˜æ—¶ï¼Œæ ¹æ®ç³»ç»Ÿè®¾ç½®åº”ç”¨ä¸»é¢˜
                if (prefersDark) {
                    document.documentElement.classList.add('dark-theme');
                } else {
                    document.documentElement.classList.add('light-theme');
                }
            }
        })();
    </script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="page_title_blog">åšå®¢</title>
    <script>
        // åšå®¢æ•°æ®
        let blogPosts = [];
        let filteredPosts = [];
        let currentPage = 1;
        const postsPerPage = 10;

        // é¡µé¢ç‰¹å®šçš„AIç¿»è¯‘æ ‡æ³¨å‡½æ•°å®ç°
        function addAITranslationNote() {
            const currentLang = getCurrentLanguage();
            if (currentLang !== 'zh' && currentLang !== 'zh-tw' && currentLang !== 'wyw') {
                // åˆ›å»ºæ ‡æ³¨å®¹å™¨
                const noteContainer = document.createElement('div');
                noteContainer.id = 'translation-note';
                noteContainer.style.cssText = 'text-align: center; margin-top: 1rem; margin-bottom: 2rem; color: #888; font-size: 0.8rem;';
                
                // åˆ›å»ºå¯ç‚¹å‡»çš„Chineseé“¾æ¥
                const span1 = document.createElement('span');
                span1.textContent = 'This page uses AI translation. Please refer to the original ';
                
                const chineseLink = document.createElement('span');
                chineseLink.textContent = currentLang === 'en' ? 'Simplified Chinese' : 'ç®€ä½“ä¸­æ–‡';
                chineseLink.style.cssText = 'color: var(--border-color); cursor: pointer; text-decoration: underline;';
                chineseLink.addEventListener('click', function() {
                    changeLanguage('zh');
                });
                
                const span2 = document.createElement('span');
                span2.textContent = ' version for any discrepancies.';
                
                // ç»„åˆå…ƒç´ 
                noteContainer.appendChild(span1);
                noteContainer.appendChild(chineseLink);
                noteContainer.appendChild(span2);
                
                // æ·»åŠ åˆ°bodyä¸­ï¼Œä½†ç¡®ä¿åœ¨å¡ç‰‡å¤–éƒ¨
                document.body.appendChild(noteContainer);
            }
        }

        // åŠ è½½åšå®¢æ–‡ä»¶åˆ—è¡¨
        async function loadBlogPosts() {
            try {
                // è¿™é‡Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®šä¹‰åšå®¢æ–‡ä»¶åˆ—è¡¨ï¼Œå› ä¸ºæ— æ³•ç›´æ¥è¯»å–æ–‡ä»¶ç³»ç»Ÿ
                const blogFiles = [
                    '2025-11-03-ç¬¬ä¸€ç¯‡æµ‹è¯•è´´.md',
                ];

                blogPosts = [];
                
                for (const filename of blogFiles) {
                    try {
                        const response = await fetch(`../blog/${filename}`);
                        if (response.ok) {
                            const content = await response.text();
                            const post = parseBlogPost(filename, content);
                            blogPosts.push(post);
                        }
                    } catch (error) {
                        console.warn(`Failed to load blog post: ${filename}`, error);
                    }
                }

                // æŒ‰æ—¥æœŸæ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
                blogPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
                filteredPosts = [...blogPosts];
                
                renderBlogList();
                renderPagination();
            } catch (error) {
                console.error('Error loading blog posts:', error);
            }
        }

        // è§£æåšå®¢æ–‡ä»¶
        function parseBlogPost(filename, content) {
            // ä»æ–‡ä»¶åè§£ææ—¥æœŸå’Œæ ‡é¢˜
            const match = filename.match(/^(\d{4}-\d{2}-\d{2})-(.+)\.md$/);
            if (!match) {
                return null;
            }

            const [, dateStr, titleFromFilename] = match;
            
            // ä»å†…å®¹ä¸­æå–æ ‡é¢˜ï¼ˆç¬¬ä¸€è¡Œçš„#æ ‡é¢˜ï¼‰
            const lines = content.split('\n');
            let title = titleFromFilename;
            let preview = '';
            
            const previewLines = [];
            for (let j = 0; j < lines.length && previewLines.length < 3; j++) {
                const previewLine = lines[j].trim();
                if (previewLine) { // åªæ·»åŠ éç©ºè¡Œ
                    previewLines.push(previewLine.replace(/^#+/, ''));
                }
            }
            preview = previewLines.join(' ');

            return {
                filename,
                title,
                date: dateStr,
                preview: preview || '',
                content
            };
        }

        // æ¸²æŸ“åšå®¢åˆ—è¡¨
        function renderBlogList() {
            const container = document.getElementById('blog-list');
            container.innerHTML = '';

            const startIndex = (currentPage - 1) * postsPerPage;
            const endIndex = startIndex + postsPerPage;
            const currentPosts = filteredPosts.slice(startIndex, endIndex);

            if (currentPosts.length === 0) {
                container.innerHTML = '<div class="no-posts" data-translate-key="no_posts">æš‚æ— åšå®¢æ–‡ç« </div>';
                return;
            }

            currentPosts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'blog-post-card';
                postElement.innerHTML = `
                    <div class="post-header">
                        <h3 class="post-title">${escapeHtml(post.title)}</h3>
                        <span class="post-date">${post.date}</span>
                    </div>
                    <div class="post-preview">${escapeHtml(post.preview)}</div>
                    <div class="post-actions">
                        <button class="read-more-btn" onclick="viewBlogPost('${post.filename}')" data-translate-key="read_more">é˜…è¯»å…¨æ–‡</button>
                    </div>
                `;
                container.appendChild(postElement);
            });
        }

        // æ¸²æŸ“åˆ†é¡µ
        function renderPagination() {
            const totalPages = Math.ceil(filteredPosts.length / postsPerPage);
            const paginationContainer = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                paginationContainer.innerHTML = '';
                return;
            }

            let paginationHTML = '';
            
            // ä¸Šä¸€é¡µæŒ‰é’®
            if (currentPage > 1) {
                paginationHTML += `<button class="page-btn" onclick="goToPage(${currentPage - 1})" data-translate-key="page_prev">ä¸Šä¸€é¡µ</button>`;
            }

            // é¡µç æŒ‰é’®
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage) {
                    paginationHTML += `<button class="page-btn active">${i}</button>`;
                } else {
                    paginationHTML += `<button class="page-btn" onclick="goToPage(${i})">${i}</button>`;
                }
            }

            // ä¸‹ä¸€é¡µæŒ‰é’®
            if (currentPage < totalPages) {
                paginationHTML += `<button class="page-btn" onclick="goToPage(${currentPage + 1})" data-translate-key="page_next">ä¸‹ä¸€é¡µ</button>`;
            }

            paginationContainer.innerHTML = paginationHTML;
        }

        // è·³è½¬åˆ°æŒ‡å®šé¡µé¢
        function goToPage(page) {
            currentPage = page;
            renderBlogList();
            renderPagination();
        }

        // æœç´¢åŠŸèƒ½
        function performSearch(query) {
            if (!query.trim()) {
                filteredPosts = [...blogPosts];
            } else {
                filteredPosts = blogPosts.filter(post => 
                    post.title.toLowerCase().includes(query.toLowerCase()) ||
                    post.preview.toLowerCase().includes(query.toLowerCase())
                );
            }
            
            currentPage = 1;
            renderBlogList();
            renderPagination();
            
            // æ›´æ–°æœç´¢ç»“æœä¿¡æ¯
            const resultCount = filteredPosts.length;
            const searchResultsInfo = document.getElementById('search-results-info');
            if (query.trim()) {
                const currentLang = getCurrentLanguage();
                const resultText = getSearchResultText(resultCount, currentLang);
                searchResultsInfo.textContent = resultText;
            } else {
                searchResultsInfo.textContent = '';
            }
        }

        // è·å–æœç´¢ç»“æœæ–‡æœ¬
        function getSearchResultText(count, lang) {
            // å¦‚æœæ˜¯ç®€ä½“ä¸­æ–‡ï¼Œä½¿ç”¨é»˜è®¤æ–‡æœ¬
            if (lang === 'zh') {
                return `æ‰¾åˆ° ${count} ä¸ªç»“æœ`;
            }
            
            // å¦åˆ™ä½¿ç”¨ç¿»è¯‘æ–‡ä»¶ä¸­çš„æ–‡æœ¬
            if (translations[lang] && translations[lang]['search_results']) {
                // è·å–ç¿»è¯‘æ–‡æœ¬
                let resultText = translations[lang]['search_results'];
                
                // ç‰¹æ®Šå¤„ç†è‹±æ–‡å¤æ•°å½¢å¼
                if (lang === 'en' && resultText.includes('{count !== 1 ? \'s\' : \'\'}')) {
                    // æ›¿æ¢JavaScriptè¡¨è¾¾å¼ä¸ºæ­£ç¡®çš„å¤æ•°å½¢å¼
                    resultText = resultText.replace('{count !== 1 ? \'s\' : \'\'}', count !== 1 ? 's' : '');
                }
                
                // æ›¿æ¢{count}å ä½ç¬¦
                return resultText.replace('{count}', count);
            }
            
            // å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç¿»è¯‘ï¼Œä½¿ç”¨è‹±æ–‡é»˜è®¤å€¼
            return `Found ${count} result${count !== 1 ? 's' : ''}`;
        }

        // æ›´æ–°æœç´¢æ¡†å ä½ç¬¦çš„ç¿»è¯‘
        function updateSearchPlaceholder() {
            const searchInput = document.getElementById('search-input');
            const currentLang = getCurrentLanguage();
            
            // å¦‚æœæ˜¯ç®€ä½“ä¸­æ–‡ï¼Œä½¿ç”¨é»˜è®¤å ä½ç¬¦
            if (currentLang === 'zh') {
                searchInput.placeholder = 'æœç´¢åšå®¢...';
                return;
            }
            
            // å¦åˆ™ä½¿ç”¨ç¿»è¯‘æ–‡ä»¶ä¸­çš„å ä½ç¬¦
            if (translations[currentLang] && translations[currentLang]['search_blog_placeholder']) {
                searchInput.placeholder = translations[currentLang]['search_blog_placeholder'];
            } else {
                searchInput.placeholder = 'Search blogs...'; // è‹±æ–‡é»˜è®¤å€¼
            }
        }

        // æŸ¥çœ‹åšå®¢è¯¦æƒ…
        function viewBlogPost(filename) {
            window.location.href = `blog-detail.html?post=${encodeURIComponent(filename)}`;
        }

        // HTMLè½¬ä¹‰
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            // ä¿å­˜é¡µé¢åŸå§‹å†…å®¹
            saveOriginalContent();
            
            // åˆå§‹åŒ–è¯­è¨€é…ç½®
            await initializeTranslations();
            
            // è®¾ç½®ä¸‹æ‹‰æ¡†çš„é€‰ä¸­é¡¹
            const savedLang = localStorage.getItem('language');
            document.getElementById('language-select').value = savedLang ? (savedLang === 'auto' ? 'auto' : savedLang) : 'auto';
            
            // è°ƒæ•´ä¸‹æ‹‰æ¡†å®½åº¦
            adjustLanguageSelectWidth();
            
            // åˆå§‹åŒ–ä¸»é¢˜æ˜¾ç¤º
            initThemeDisplay();
            
            // åˆå§‹åŒ–æœç´¢åŠŸèƒ½
            initSearch();
            
            // åŠ è½½åšå®¢æ–‡ç« 
            await loadBlogPosts();
            
            // åˆå§‹åŒ–æ—¶æ£€æŸ¥è¯­è¨€å¹¶æ·»åŠ æ ‡æ³¨
            addAITranslationNote();
        });

        // åˆå§‹åŒ–æœç´¢åŠŸèƒ½
        function initSearch() {
            const searchInput = document.getElementById('search-input');
            const clearSearchBtn = document.getElementById('clear-search-btn');
            
            // åº”ç”¨æœç´¢æ¡†å ä½ç¬¦çš„ç¿»è¯‘
            updateSearchPlaceholder();
            
            // æœç´¢è¾“å…¥äº‹ä»¶
            searchInput.addEventListener('input', function() {
                const query = this.value.trim();
                
                // æ˜¾ç¤ºæˆ–éšè—æ¸…é™¤æŒ‰é’®
                if (query) {
                    clearSearchBtn.classList.add('visible');
                } else {
                    clearSearchBtn.classList.remove('visible');
                }
                
                // æ‰§è¡Œæœç´¢
                performSearch(query);
            });
            
            // æ¸…é™¤æœç´¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            clearSearchBtn.addEventListener('click', function() {
                searchInput.value = '';
                clearSearchBtn.classList.remove('visible');
                performSearch('');
            });
            
            // å›è½¦é”®è§¦å‘æœç´¢
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const query = this.value.trim();
                    performSearch(query);
                }
            });
        }

        // å¤„ç†è¯­è¨€é€‰æ‹©å˜åŒ–
        function handleLanguageChange(lang) {
            if (['auto', 'zh', 'zh-tw', 'en', 'wyw'].includes(lang)) {
                changeLanguage(lang);
            }
        }
    </script>
    <style>
        /* å®šä¹‰CSSå˜é‡ */
        :root {
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --text-color: #333;
            --container-bg: white;
            --container-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --container-hover-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
            --heading-color: #2c3e50;
            --border-color: #3498db;
            --border-hover-color: #2980b9;
            --card-bg: white;
            --card-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --card-hover-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            --button-bg: #3498db;
            --button-hover: #2980b9;
            --button-active: #1f6dad;
            --search-bg: #f8f9fa;
            --search-border: #e9ecef;
            --search-focus-border: #3498db;
            --transition-speed: 0.3s;
        }
        
        /* æš—é»‘æ¨¡å¼å˜é‡ */
        .dark-theme {
            --bg-gradient: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            --text-color: #e0e0e0;
            --container-bg: #2d2d2d;
            --container-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --container-hover-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            --heading-color: #e0e0e0;
            --border-color: #64b5f6;
            --border-hover-color: #90caf9;
            --card-bg: #3d3d3d;
            --card-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            --card-hover-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            --button-bg: #1e88e5;
            --button-hover: #1976d2;
            --button-active: #1565c0;
            --search-bg: #404040;
            --search-border: #555;
            --search-focus-border: #64b5f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-gradient);
            color: var(--text-color);
            min-height: 100vh;
            transition: all var(--transition-speed) ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            text-align: center;
            color: var(--heading-color);
            margin-bottom: 2rem;
            font-size: 2.5rem;
            font-weight: 700;
        }

        /* æœç´¢åŒºåŸŸæ ·å¼ */
        .search-section {
            margin-bottom: 2rem;
        }

        .search-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
        }

        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        #search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid var(--search-border);
            border-radius: 25px;
            background: var(--search-bg);
            color: var(--text-color);
            font-size: 16px;
            transition: all var(--transition-speed) ease;
        }

        #search-input:focus {
            outline: none;
            border-color: var(--search-focus-border);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        #clear-search-btn {
            position: absolute;
            right: 10px;
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-speed) ease;
        }

        #clear-search-btn.visible {
            opacity: 1;
            visibility: visible;
        }

        #clear-search-btn:hover {
            background: rgba(0, 0, 0, 0.1);
            color: var(--text-color);
        }

        #search-results-info {
            text-align: center;
            margin-top: 10px;
            color: #666;
            font-size: 14px;
        }

        /* åšå®¢åˆ—è¡¨æ ·å¼ */
        #blog-list {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .blog-post-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            transition: all var(--transition-speed) ease;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .blog-post-card:hover {
            box-shadow: var(--card-hover-shadow);
            transform: translateY(-2px);
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .post-title {
            color: var(--heading-color);
            font-size: 1.3rem;
            font-weight: 600;
            margin: 0;
            flex: 1;
        }

        .post-date {
            color: #000000;
            font-size: 0.9rem;
            white-space: nowrap;
            background: rgba(255, 255, 255, 0.75);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .post-preview {
            color: var(--text-color);
            line-height: 1.6;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .post-actions {
            display: flex;
            justify-content: flex-end;
        }

        .read-more-btn {
            background: var(--button-bg);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all var(--transition-speed) ease;
        }

        .read-more-btn:hover {
            background: var(--button-hover);
            transform: translateY(-1px);
        }

        .read-more-btn:active {
            background: var(--button-active);
            transform: translateY(0);
        }

        /* åˆ†é¡µæ ·å¼ */
        #pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .page-btn {
            background: var(--card-bg);
            color: var(--text-color);
            border: 1px solid var(--search-border);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all var(--transition-speed) ease;
        }

        .page-btn:hover {
            background: var(--button-bg);
            color: white;
            border-color: var(--button-bg);
        }

        .page-btn.active {
            background: var(--button-bg);
            color: white;
            border-color: var(--button-bg);
        }

        /* æ— æ–‡ç« æç¤º */
        .no-posts {
            text-align: center;
            color: #666;
            font-size: 1.1rem;
            padding: 3rem;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--card-shadow);
        }

        /* è¿”å›æŒ‰é’® */
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(90deg, var(--button-bg), var(--button-hover));
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
            transition: all var(--transition-speed) ease;
            z-index: 100;
        }

        .back-btn:hover {
            background: linear-gradient(90deg, var(--button-hover), var(--button-bg));
            box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
            transform: translateY(-1px);
        }

        /* è¯­è¨€åˆ‡æ¢å’Œä¸»é¢˜åˆ‡æ¢æ ·å¼ */
        .language-toggle {
            position: fixed;
            top: 20px;
            right: 80px;
            z-index: 1000;
        }

        .language-select-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--container-bg);
            padding: 8px 12px;
            border-radius: 25px;
            box-shadow: var(--container-shadow);
            transition: all var(--transition-speed) ease;
        }

        .language-select-wrapper:hover {
            box-shadow: var(--container-hover-shadow);
        }

        .language-icon {
            font-size: 16px;
        }

        .language-select {
            border: none;
            background: transparent;
            color: var(--text-color);
            font-size: 14px;
            cursor: pointer;
            outline: none;
            min-width: 120px;
        }

        .language-select-copy {
            position: absolute;
            visibility: hidden;
            white-space: nowrap;
            font-size: 14px;
            padding: 0;
            margin: 0;
            border: none;
            background: transparent;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--container-bg);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: var(--container-shadow);
            transition: all var(--transition-speed) ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            box-shadow: var(--container-hover-shadow);
            transform: scale(1.05);
        }

        .theme-toggle svg {
            width: 24px;
            height: 24px;
            color: var(--text-color);
            display: none;
        }

        .theme-toggle .sun-icon.active,
        .theme-toggle .moon-icon.active,
        .theme-toggle .auto-icon.active {
            display: block;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .post-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .language-toggle {
                top: 15px;
                right: 70px;
            }

            .theme-toggle {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
            }

            .back-btn {
                top: 15px;
                left: 15px;
                font-size: 0.85rem;
                padding: 6px 10px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.5rem;
            }

            h1 {
                font-size: 1.5rem;
                margin-bottom: 1.5rem;
            }

            .blog-post-card {
                padding: 1rem;
            }

            .search-container {
                max-width: 100%;
            }

            #pagination {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="language-toggle">
        <div class="language-select-wrapper">
            <span class="language-icon">ğŸŒ</span>
            <select id="language-select" class="language-select" onchange="changeLanguage(this.value)">
                <option value="auto">è‡ªåŠ¨ (ç®€ä½“ä¸­æ–‡)</option>
                <option value="zh">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-tw">ç¹é«”ä¸­æ–‡</option>
                <option value="en">English</option>
                <option value="wyw">æ–‡è¨€æ–‡</option>
            </select>
        </div>
    </div>
    
    <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sun-icon">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="moon-icon">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="auto-icon">
            <circle cx="12" cy="12" r="5" opacity="0.3"></circle>
            <path d="M12 2v2"></path>
            <path d="M12 20v2"></path>
            <path d="m4.93 4.93 1.41 1.41"></path>
            <path d="m17.66 17.66 1.41 1.41"></path>
            <path d="M2 12h2"></path>
            <path d="M20 12h2"></path>
            <path d="m6.34 17.66-1.41 1.41"></path>
            <path d="m19.07 4.93-1.41 1.41"></path>
            <path d="m9 9 4 4 2-2"></path>
        </svg>
    </button>

    <!-- è¿”å›æŒ‰é’® -->
    <button class="back-btn" onclick="window.location.href='../index.html'" data-translate-key="back_btn">
        &lt; è¿”å›
    </button>

    <div class="container">
        <h1 id="main-heading" data-translate-key="page_title_blog">åšå®¢</h1>
        
        <!-- æœç´¢åŒºåŸŸ -->
        <div class="search-section">
            <div class="search-container">
                <div class="search-input-wrapper">
                    <input type="text" id="search-input" placeholder="æœç´¢åšå®¢...">
                    <button id="clear-search-btn" title="æ¸…é™¤æœç´¢">âœ•</button>
                </div>
                <div id="search-results-info"></div>
            </div>
        </div>

        <!-- åšå®¢åˆ—è¡¨ -->
        <div id="blog-list"></div>

        <!-- åˆ†é¡µ -->
        <div id="pagination"></div>
    </div>

    <script>
        // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
        document.getElementById('themeToggle').addEventListener('click', function() {
            toggleTheme();
        });

        // åœ¨è¯­è¨€åˆ‡æ¢æ—¶æ›´æ–°æ ‡æ³¨å’Œæœç´¢ç»“æœ
        document.getElementById('language-select').addEventListener('change', function() {
            // ç§»é™¤ç°æœ‰æ ‡æ³¨
            const existingNote = document.getElementById('translation-note');
            if (existingNote) {
                existingNote.remove();
            }
            // æ·»åŠ æ–°æ ‡æ³¨
            addAITranslationNote();
            
            // æ›´æ–°æœç´¢æ¡†å ä½ç¬¦
            updateSearchPlaceholder();
            
            // å¦‚æœå½“å‰æœ‰æœç´¢æŸ¥è¯¢ï¼Œé‡æ–°æ‰§è¡Œæœç´¢ä»¥æ›´æ–°æœç´¢ç»“æœä¿¡æ¯
            const searchInput = document.getElementById('search-input');
            const query = searchInput.value.trim();
            if (query) {
                performSearch(query);
            }
        });
    </script>
</body>
</html>